<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/f01941449c.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="/assets/styles/home.css">
    <style>
    .video-docker video {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .video-docker::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 1;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fadeIn {
        animation: fadeIn 1s ease-out;
    }
    </style>
</head>


<body class="bg-white min-h-screen flex-col items-center justify-center">
    <!-- Header -->
    <header class="border-b border-gray-200 shadow-md">
        <nav class="bg-white border-gray-200 dark:bg-gray-900">
            <div class="max-w-screen-xl flex flex-wrap items-center justify-evenly mx-auto">
                <!-- Logo -->
                <div class="flex items-center justify-center ml-2">
                    <a href="https://flowbite.com/"
                        class="flex-col justify-center items-center space-x-3 rtl:space-x-reverse">
                        <span
                            class="self-center text-xl font-semibold whitespace-nowrap text-[#fb8c00] dark:text-white">
                            EventsBro
                        </span>
                    </a>
                    <div class="p-4 text-gray-600 dark:text-gray-300 outline-none focus:outline-none">
                        <div class="relative flex">
                            <select
                                class="bg-white dark:bg-gray-800 h-10 px-5 rounded-l-full text-sm focus:outline-none outline-none border-2 border-gray-500 dark:border-gray-600 border-r-1 cursor-pointer max-h-10 overflow-y-hidden">
                                <option class="font-medium cursor-pointer" value="filter">
                                    filter
                                </option>
                            </select>
                            <input type="search" name="search" placeholder="Search"
                                class="bg-white dark:bg-gray-800 h-10 flex px-5 w-full rounded-r-full text-sm focus:outline-none border-2 border-l-0 border-gray-500 dark:border-gray-600"
                                autocomplete="off" spellcheck="false" required step="any" autocapitalize="none"
                                autofocus />
                            <button type="submit" id="searchBtn"
                                class="absolute inset-y-0 right-0 mr-2 flex items-center px-2">
                                <svg class="h-4 w-4 fill-current dark:text-white" xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px"
                                    viewbox="0 0 56.966 56.966" xml:space="preserve" width="512px" height="512px">
                                    <path
                                        d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Right Navigation -->

                <div class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
                    <div class="flex items-center gap-4">
                        {% if session.role is defined %}
                        {% if session.role in ['Admin', 'Participant', 'Organizer'] %}
                        <button type="button"
                            class="flex text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
                            id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown"
                            data-dropdown-placement="bottom">
                            <span class="sr-only">
                                Open user menu
                            </span>
                            <img class="w-8 h-8 rounded-full" src="https://tailwindcss.com/img/jonathan.jpg"
                                alt="user photo">
                        </button>
                        {% endif %}
                        {% else %}
                        <div class="sm:flex sm:gap-4">
                            <a class="rounded-md bg-[#fb8c00] hover:bg-[#fb8c00] px-5 py-2.5 text-sm font-medium text-white shadow inline-block"
                                href="/login">
                                Login
                            </a>
                            <div class="hidden sm:flex">
                                <a class="rounded-md bg-gray-100 px-5 py-2.5 text-sm font-medium text-gray-500 hover:bg-[#fb8c00] hover:text-white"
                                    href="/register">
                                    Register
                                </a>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                    <!-- Dropdown menu -->
                    <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600"
                        id="user-dropdown">
                        <div class="px-4 py-3">
                            <span class="block text-sm text-gray-900 dark:text-white inline-block">
                                {{ session.username }}
                            </span>
                            <span class="block text-sm text-gray-500 truncate dark:text-gray-400 inline-block">
                                name@flowbite.com
                            </span>
                        </div>
                        <ul class="py-2" aria-labelledby="user-menu-button">
                            {% if session.role is defined %}
                            {% if session.role == 'Admin' %}
                            <li>
                                <a href="/dashboard"
                                    class="block px-4 py-2 text-sm inline-block text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
                                    Dashboard
                                </a>
                            </li>
                            {% elseif session.role == 'Organizer' %}
                            <li>
                                <a href="/organisateur"
                                    class="block px-4 py-2 text-sm inline-block text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
                                    Dashboard
                                </a>
                            </li>
                            {% endif %}
                            <li>
                                <a href="#"
                                    class="block px-4 py-2 text-sm inline-block text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
                                    Sign out
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                    <button data-collapse-toggle="navbar-user" type="button"
                        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                        aria-controls="navbar-user" aria-expanded="false">
                        <span class="sr-only">
                            Open main menu
                        </span>
                        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewbox="0 0 17 14">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M1 1h15M1 7h15M1 13h15" />
                        </svg>
                    </button>
                </div>
                <!-- Middle Navigation -->
                <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-user">

                    <ul
                        class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
                        <li>
                            <a href="/home"
                                class="block py-2 px-3 text-white bg-[#fb8c00] rounded md:bg-transparent md:text-[#fb8c00] md:p-0 md:dark:text-[#fb8c00]"
                                aria-current="page">
                                Home
                            </a>
                        </li>
                        <li>
                            <a href="/FindEvents"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#fb8c00] md:p-0 dark:text-white md:dark:hover:text-[#fb8c00] dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">
                                Create Events
                            </a>
                        </li>
                        <li>
                            <a href="Events.twig"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#fb8c00] md:p-0 dark:text-white md:dark:hover:text-[#fb8c00] dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">
                                Find my tickets
                            </a>
                        </li>
                        <li>
                            <a href="/FindEvents"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#fb8c00] md:p-0 dark:text-white md:dark:hover:text-[#fb8c00] dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">
                                Find Events
                            </a>
                        </li>
                        <li>
                            <a href="/help"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#fb8c00] md:p-0 dark:text-white md:dark:hover:text-[#fb8c00] dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">
                                Help Center
                            </a>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>
    <!-- Main Content -->

    <div id="heroSection" class="relative overflow-hidden">
        <!-- Background Video -->
        <div class="absolute inset-0 w-full h-full">
            <video class="absolute w-full h-full object-cover"
                src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4"
                type="video/mp4" autoplay muted loop></video>
            <!-- Overlay for better readability -->
            <div class="absolute inset-0 bg-black bg-opacity-50"></div>
        </div>

        <!-- Content Section -->
        <div
            class="relative z-10 flex flex-col items-center justify-center min-h-screen text-center text-white px-6 md:px-12">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold mb-6 animate-fadeIn">
                Discover Your New Home
            </h1>
            <p class="text-lg sm:text-xl lg:text-2xl text-gray-200 dark:text-gray-300 animate-fadeIn opacity-80">
                Search the Forum for the Events.
            </p>

            <!-- Search Form -->
            <div class="w-full max-w-xl mt-8">
                <form id="searchForm" method="POST"
                    class="relative flex items-center bg-white bg-opacity-10 rounded-lg shadow-lg p-1">
                    <input type="search" id="searchInput" name="search" placeholder="Search here for threads"
                        class="w-full p-4 pl-12 text-gray-900 bg-white bg-opacity-30 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-200">
                    <div class="absolute left-4 text-gray-300">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </div>
                    <button type="submit" id="searchBtn"
                        class="ml-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-300">
                        Search
                    </button>
                </form>
            </div>
        </div>
    </div>

    <main id="main" class="mt-5 flex ">
        <div class="grid grid-cols-2 md:grid-cols-4 mb-8">
            <section class="col-span-1 w-full">
                <div class="bg-white p-6 rounded-lg shadow-md mx-auto">
                    <form method="POST">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold flex items-center">
                                <i data-feather="filter" class="mr-2"></i> Filtres
                            </h2>
                            <button type="reset"
                                class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
                                aria-label="R√©initialiser tous les filtres">
                                R√©initialiser
                                <i data-feather="x" class="inline-block ml-2"></i>
                            </button>
                        </div>

                        <div class="space-y-4">
                            <!-- Cat√©gorie -->
                            <div>
                                <label for="categorie"
                                    class="block text-sm font-medium text-gray-700 mb-1">Cat√©gorie</label>
                                <select id="categorie" name="categorie"
                                    class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    <option value="">Toutes les cat√©gories</option>
                                    <option value="electronique">√âlectronique</option>
                                    <option value="vetements">V√™tements</option>
                                    <option value="livres">Livres</option>
                                </select>
                            </div>

                            <!-- Prix -->
                            <div>
                                <label for="prix" class="block text-sm font-medium text-gray-700 mb-1">Prix</label>
                                <select id="prix" name="prix"
                                    class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    <option value="">Tous les prix</option>
                                    <option value="0-50">0‚Ç¨ - 50‚Ç¨</option>
                                    <option value="50-100">50‚Ç¨ - 100‚Ç¨</option>
                                    <option value="100+">100‚Ç¨+</option>
                                </select>
                            </div>

                            <!-- Date -->
                            <div>
                                <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                                <input type="date" id="date" name="date"
                                    class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
                            </div>

                            <!-- Lieu -->
                            <div>
                                <label for="lieu" class="block text-sm font-medium text-gray-700 mb-1">Lieu</label>
                                <select id="lieu" name="lieu"
                                    class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    <option value="">Tous les lieux</option>
                                    <option value="paris">Paris</option>
                                    <option value="lyon">Lyon</option>
                                    <option value="marseille">Marseille</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex justify-between items-center mt-5">
                        <h2 class="text-2xl font-bold flex items-center">
                            <i data-feather="filter" class="mr-2"></i> Filtres
                        </h2>
                        <button type="submit"
                            class="bg-[#fb8c00] hover:bg-[#fb8c00] text-white py-2 px-4 font-bold rounded transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
                            aria-label="tous les filtres">
                            Filter
                            <i data-feather="x" class="inline-block ml-2"></i>
                        </button>
                    </div>
                    </form>
                </div>
            </section>



            <section class="bg-gray-50 col-span-3">

                <!-- Container -->
                <div class="mx-auto w-full max-w-7xl px-5">
                    <!-- Event Category Buttons -->
                    <div id="dev" class="max-w-6xl mx-auto">
                        <!-- Second Row (3 Columns) -->
                        <div class="max-w-6xl mx-auto">

                            <div  class="grid grid-cols-1 md:grid-cols-3 gap-8">
                                {% for event in eventsAccepted %}
                                <div
                                    class="bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300">
                                    <div class="relative h-72">
                                        <img class="h-72 w-full object-cover"
                                            src="{{ '/assets/images/' ~ event.event_image }}" alt="Event Image" />
                                        <span
                                            class="absolute bottom-5 right-5 bg-[#FF9800] text-gray-800 hover:text-white text-sm font-semibold px-3 py-2 rounded-full hover:bg-gray-800">
                                            {{ event.category_name }}
                                        </span>
                                    </div>

                                    <div class="p-6">
                                        <h2 class="text-xl font-bold mb-2">
                                            {{ event.title }}
                                        </h2>

                                        <p class="text-gray-600">
                                            {{ event.description | slice(0, 200) ~ '...' }}
                                        </p>

                                        <p class="text-gray-500 text-sm mt-2">
                                            üìÖ {{ event.startEventAt | date('Y-m-d üïí H:i') }}
                                        </p>
                                        <p class="text-gray-500 text-sm mt-2">
                                            üìÖ {{ event.endEventAt | date('Y-m-d üïí H:i') }}
                                        </p>

                                        <p class="text-gray-500 text-sm mt-2">
                                            üìç {{ event.adresse ?? 'En ligne' }}
                                        </p>

                                        <div class="flex items-center mt-4 justify-between">
                                            <div>
                                                {% for i in 1..5 %}
                                                {% if i <= event.rating %}
                                                <span class="text-yellow-400">‚òÖ</span>
                                                {% else %}
                                                <span class="text-gray-300">‚òÖ</span>
                                                {% endif %}
                                                {% endfor %}
                                                <span class="ml-2 text-gray-500 text-sm">({{ event.rating }}/5)</span>
                                            </div>
                                            <div>
                                                <a href="/reservation/{{ event.event_id }}"
                                                    class="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors duration-300">
                                                    R√©server
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% else %}
                                <p class="text-gray-600">Aucun √©v√©nement disponible.</p>
                                {% endfor %}
                            </div>
                        </div>

                    </div>
                    <div id="searchResults" class="hidden grid grid-cols-2 md:grid-cols-2 mb-8">
                        <!-- Results will be dynamically inserted here -->
                    </div>
                    <!-- Load More Button -->
                    <div class="mt-12 text-center">
                    <button
                        class="px-8 py-3 bg-[#FF9800] text-gray-800 hover:text-white  rounded-lg hover:bg-gray-800 transition-all duration-300">
                        Load More Events
                    </button>
                </div>
            </section>

        </div>

    </main>

    <footer class="mt-8 bg-gray-900 pt-9">
        <div class="mx-auto w-full max-w-[1166px] px-4 xl:px-0">
            <div class="flex flex-col justify-between sm:px-[18px] md:flex-row md:px-10">
                <div class="md:w-[316px]">
                    <p class="text-[18px] font-medium text-white">
                    <h1 class="text-white font-extrabold">
                        <span class="text-rose-600">EVENTBRO
                    </h1>
                    </p>
                    </p>
                    <p class="mt-[18px] text-[15px] font-normal text-white/[80%]">Lorem ipsum dolor sit amet consectetur
                        adipisicing
                        elit. Eos, fugit non. Incidunt dolorum adipisci, tempore asperiores nemo odio facere officiis
                        enim animi
                        placeat eaque nesciunt alias beatae id, at dicta.</p>
                    <div class="mt-[18px] flex gap-4">
                        <a class="hover:scale-110" target="_blank" href="#"><img alt="facebook icon" loading="lazy"
                                width="36" height="36" decoding="async" data-nimg="1" style="color:transparent"
                                src="https://www.englishyaari.com/img/facebook.svg" /></a>
                        <a class="hover:scale-110" target="_blank" href="/"><img alt="linkdin icon" loading="lazy"
                                width="36" height="36" decoding="async" data-nimg="1" style="color:transparent"
                                src="https://www.englishyaari.com/img/linkdin.svg" /></a>
                        <a class="hover:scale-110" target="_blank" href="/"><img alt="instagram icon" loading="lazy"
                                width="36" height="36" decoding="async" data-nimg="1" style="color:transparent"
                                src="https://www.englishyaari.com/img/instagram1.svg" /></a>
                        <a class="hover:scale-110" target="_blank" href=""><img alt="twitter icon" loading="lazy"
                                width="36" height="36" decoding="async" data-nimg="1" style="color:transparent"
                                src="https://www.englishyaari.com/img/twitter.svg" /></a>
                        <a class="hover:scale-110" target="_blank" href="https://www.youtube.com/"><img
                                alt="youtube icon" loading="lazy" width="36" height="36" decoding="async" data-nimg="1"
                                style="color:transparent" src="https://www.englishyaari.com/img/youtube.svg" /></a>
                    </div>
                </div>
                <div class="md:w-[316px]">
                    <div class="mt-[23px] flex">
                        <div class="flex h-[38px] w-[38px] items-center justify-center rounded-[75%]">
                            <svg width="24" height="24" viewbox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20.8472 14.8554L16.4306 12.8764L16.4184 12.8707C16.1892 12.7727 15.939 12.7333 15.6907 12.7562C15.4424 12.7792 15.2037 12.8636 14.9963 13.002C14.9718 13.0181 14.9484 13.0357 14.9259 13.0545L12.6441 14.9998C11.1984 14.2976 9.70595 12.8164 9.00376 11.3895L10.9519 9.07294C10.9706 9.0495 10.9884 9.02606 11.0053 9.00075C11.1407 8.79384 11.2229 8.55667 11.2445 8.31035C11.2661 8.06402 11.2264 7.81618 11.1291 7.58887V7.57762L9.14438 3.15356C9.0157 2.85662 8.79444 2.60926 8.51362 2.44841C8.2328 2.28756 7.9075 2.22184 7.58626 2.26106C6.31592 2.42822 5.14986 3.05209 4.30588 4.01615C3.4619 4.98021 2.99771 6.21852 3.00001 7.49981C3.00001 14.9436 9.05626 20.9998 16.5 20.9998C17.7813 21.0021 19.0196 20.5379 19.9837 19.6939C20.9477 18.85 21.5716 17.6839 21.7388 16.4136C21.7781 16.0924 21.7125 15.7672 21.5518 15.4864C21.3911 15.2056 21.144 14.9843 20.8472 14.8554ZM16.5 19.4998C13.3185 19.4963 10.2682 18.2309 8.01856 15.9813C5.76888 13.7316 4.50348 10.6813 4.50001 7.49981C4.49648 6.58433 4.82631 5.69887 5.42789 5.00879C6.02947 4.3187 6.86167 3.87118 7.76907 3.74981C7.7687 3.75355 7.7687 3.75732 7.76907 3.76106L9.73782 8.16731L7.80001 10.4867C7.78034 10.5093 7.76247 10.5335 7.74657 10.5589C7.60549 10.7754 7.52273 11.0246 7.5063 11.2825C7.48988 11.5404 7.54035 11.7981 7.65282 12.0307C8.5022 13.7679 10.2525 15.5051 12.0084 16.3536C12.2428 16.465 12.502 16.5137 12.7608 16.495C13.0196 16.4762 13.2692 16.3907 13.485 16.2467C13.5091 16.2305 13.5322 16.2129 13.5544 16.1942L15.8334 14.2498L20.2397 16.2232C20.2397 16.2232 20.2472 16.2232 20.25 16.2232C20.1301 17.1319 19.6833 17.9658 18.9931 18.5689C18.3028 19.172 17.4166 19.5029 16.5 19.4998Z"
                                    fill="white"></path>
                            </svg>
                        </div>
                        <div class="ml-[18px]">
                            <a href="tel:+911800123444" class="font-Inter text-[14px] font-medium text-white">+91
                                1800123444</a>
                            <p class="font-Inter text-[12px] font-medium text-white">Support Number</p>
                        </div>
                    </div>
                    <div class="mt-[23px] flex">
                        <div class="flex h-[38px] w-[38px] items-center justify-center rounded-[75%]">
                            <svg width="20" height="15" viewbox="0 0 20 15" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M19 0H1C0.801088 0 0.610322 0.0790178 0.46967 0.21967C0.329018 0.360322 0.25 0.551088 0.25 0.75V13.5C0.25 13.8978 0.408035 14.2794 0.68934 14.5607C0.970644 14.842 1.35218 15 1.75 15H18.25C18.6478 15 19.0294 14.842 19.3107 14.5607C19.592 14.2794 19.75 13.8978 19.75 13.5V0.75C19.75 0.551088 19.671 0.360322 19.5303 0.21967C19.3897 0.0790178 19.1989 0 19 0ZM10 7.98281L2.92844 1.5H17.0716L10 7.98281ZM7.25406 7.5L1.75 12.5447V2.45531L7.25406 7.5ZM8.36406 8.51719L9.48906 9.55312C9.62743 9.68014 9.80842 9.75062 9.99625 9.75062C10.1841 9.75062 10.3651 9.68014 10.5034 9.55312L11.6284 8.51719L17.0659 13.5H2.92844L8.36406 8.51719ZM12.7459 7.5L18.25 2.45438V12.5456L12.7459 7.5Z"
                                    fill="white"></path>
                            </svg>
                        </div>
                        <div class="ml-[18px]">
                            <a href="mailto:help@lorem.com"
                                class="font-Inter text-[14px] font-medium text-[#fff]">help@lorem.com</a>
                            <p class="font-Inter text-[12px] font-medium text-[#fff]">Support Email</p>
                        </div>
                    </div>
                    <div class="mt-[23px] flex">
                        <div class="flex h-[38px] w-[38px] items-center justify-center rounded-[75%]">
                            <svg width="18" height="21" viewbox="0 0 18 21" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M9 4.5C8.25832 4.5 7.5333 4.71993 6.91661 5.13199C6.29993 5.54404 5.81928 6.12971 5.53545 6.81494C5.25162 7.50016 5.17736 8.25416 5.32205 8.98159C5.46675 9.70902 5.8239 10.3772 6.34835 10.9017C6.8728 11.4261 7.54098 11.7833 8.26841 11.9279C8.99584 12.0726 9.74984 11.9984 10.4351 11.7145C11.1203 11.4307 11.706 10.9501 12.118 10.3334C12.5301 9.7167 12.75 8.99168 12.75 8.25C12.75 7.25544 12.3549 6.30161 11.6517 5.59835C10.9484 4.89509 9.99456 4.5 9 4.5ZM9 10.5C8.55499 10.5 8.11998 10.368 7.74997 10.1208C7.37996 9.87357 7.09157 9.52217 6.92127 9.11104C6.75097 8.6999 6.70642 8.2475 6.79323 7.81105C6.88005 7.37459 7.09434 6.97368 7.40901 6.65901C7.72368 6.34434 8.12459 6.13005 8.56105 6.04323C8.9975 5.95642 9.4499 6.00097 9.86104 6.17127C10.2722 6.34157 10.6236 6.62996 10.8708 6.99997C11.118 7.36998 11.25 7.80499 11.25 8.25C11.25 8.84674 11.0129 9.41903 10.591 9.84099C10.169 10.2629 9.59674 10.5 9 10.5ZM9 0C6.81273 0.00248131 4.71575 0.872472 3.16911 2.41911C1.62247 3.96575 0.752481 6.06273 0.75 8.25C0.75 11.1938 2.11031 14.3138 4.6875 17.2734C5.84552 18.6108 7.14886 19.8151 8.57344 20.8641C8.69954 20.9524 8.84978 20.9998 9.00375 20.9998C9.15772 20.9998 9.30796 20.9524 9.43406 20.8641C10.856 19.8147 12.1568 18.6104 13.3125 17.2734C15.8859 14.3138 17.25 11.1938 17.25 8.25C17.2475 6.06273 16.3775 3.96575 14.8309 2.41911C13.2843 0.872472 11.1873 0.00248131 9 0ZM9 19.3125C7.45031 18.0938 2.25 13.6172 2.25 8.25C2.25 6.45979 2.96116 4.7429 4.22703 3.47703C5.4929 2.21116 7.20979 1.5 9 1.5C10.7902 1.5 12.5071 2.21116 13.773 3.47703C15.0388 4.7429 15.75 6.45979 15.75 8.25C15.75 13.6153 10.5497 18.0938 9 19.3125Z"
                                    fill="white"></path>
                            </svg>
                        </div>
                        <div class="ml-[18px]">
                            <a href="mailto:help@lorem.com" class="font-Inter text-[14px] font-medium text-[#fff]">Sub
                                Nerul, Mumbia,
                                India, 123456</a>
                            <p class="font-Inter text-[12px] font-medium text-white">Address</p>
                        </div>
                    </div>
                </div>
                <div class="mt-6 flex w-full flex-col justify-between text-white sm:flex-row md:mt-0 md:max-w-[341px]">
                    <div class="">
                        <p class="text-deutziawhite font-inter text-[18px] font-medium leading-normal">Pages</p>
                        <ul>
                            <li class="mt-[15px]">
                                <a class="text-deutziawhite hover:text-deutziawhite/80 font-inter text-[15px] font-normal hover:font-semibold"
                                    href="/">Home</a>
                            </li>
                            <li class="mt-[15px]">
                                <a class="text-deutziawhite hover:text-deutziawhite/80 font-inter text-[15px] font-normal hover:font-semibold"
                                    href="/our-tutors">News</a>
                            </li>
                            <li class="mt-[15px]">
                                <a class="text-deutziawhite hover:text-deutziawhite/80 font-inter text-[15px] font-normal hover:font-semibold"
                                    href="/become-a-tutor">Contact</a>
                            </li>
                            <li class="mt-[15px]">
                                <a class="text-deutziawhite hover:text-deutziawhite/80 font-inter text-[15px] font-normal hover:font-semibold"
                                    href="/plans-and-pricing">Plans and pricing</a>
                            </li>
                            <li class="mt-[15px]">
                                <a class="text-deutziawhite hover:text-deutziawhite/80 font-inter text-[15px] font-normal hover:font-semibold"
                                    href="/terms-and-conditions">Terms and conditions</a>
                            </li>
                            <li class="mt-[15px]">
                                <a class="text-deutziawhite hover:text-deutziawhite/80 font-inter text-[15px] font-normal hover:font-semibold"
                                    href="/privacy-policy">Privcay policy</a>
                            </li>
                        </ul>
                    </div>
                    <div class="mt-6 flex flex-col gap-4 sm:mt-0">
                        <p class="text-deutziawhite font-inter text-[18px] font-medium">Download the app</p>
                        <div class="flex gap-4 sm:flex-col">
                            <a target="_blank" href="#"><img alt="facebook icon" loading="lazy" width="168" height="50"
                                    decoding="async" data-nimg="1" style="color:transparent"
                                    src="https://www.englishyaari.com/img/google-store.svg" /></a>
                            <a target="_blank" href="#"><img alt="facebook icon" loading="lazy" width="168" height="50"
                                    decoding="async" data-nimg="1" style="color:transparent"
                                    src="https://www.englishyaari.com/img/apple-store.svg" /></a>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="mt-[30px] text-white" />
            <div class="flex items-center justify-center pb-8 pt-[9px] md:py-8">
                <p class="text-[10px] font-normal text-white md:text-[12px]">
                    ¬© Copyright
                    <!-- -->
                    2024
                    <!-- -->
                    , All Rights Reserved by YOUR WEBSITES. PVT. LTD
                </p>
            </div>
        </div>
    </footer>


    <script>
    document.getElementById('searchForm').addEventListener('submit', function(event) {
        event.preventDefault();
        let searchInput = document.getElementById('searchInput').value;
        console.log(searchInput);

        let dev = document.getElementById('dev');
        let searchResults = document.getElementById('searchResults');

        dev.classList.toggle('hidden');
        searchResults.classList.toggle('hidden');

        search(searchInput);

    });

    async function search(search) {

        const searchEvent = {
            'q': search
        }
        try {
            const response = await fetch('/FindEvents/search', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    action: 'view',
                    q: search
                }),
            });
            const result = await response.json();
            if (response.ok) {
                if (result.success) {
                    displaySearchResults(result.data);
                } else {
                    alert(result.message || 'No data found.');
                }
            } else {
                alert(result.message || 'Failed to find. Please try again.');
            }
        } catch (error) {
            console.error('Error:', error);
            alert('An error occurred. Please check your connection and try again.');
        }
    }

    function displaySearchResults(results) {
        const searchResultsContainer = document.getElementById('searchResults');
        searchResultsContainer.innerHTML = ''; // Clear previous results

        if (results.length === 0) {
            searchResultsContainer.innerHTML = '<p class="text-center text-gray-600">No results found.</p>';
            return;
        }

        results.forEach(result => {
            const resultElement = document.createElement('div');
            resultElement.className =
                'bg-white w-[22rem] rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300';

            // Generate rating stars
            let ratingStars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= result.rating) {
                    ratingStars += '<span class="text-yellow-400">‚òÖ</span>';
                } else {
                    ratingStars += '<span class="text-gray-300">‚òÖ</span>';
                }
            }

            resultElement.innerHTML = `
            <div class="relative h-72">
                <img class="h-72 w-full object-cover" src="/assets/images/${result.event_image}" alt="Event Image" />
                <span class="absolute bottom-5 right-5 bg-[#FF9800] text-gray-800 hover:text-white text-sm font-semibold px-3 py-2 rounded-full hover:bg-gray-800">
                    ${result.category_name}
                </span>
            </div>

            <div class="p-6">
                <h2 class="text-xl font-bold mb-2">
                    ${result.title}
                </h2>

                <p class="text-gray-600">
                    ${result.description.slice(0, 200)}...
                </p>

                <p class="text-gray-500 text-sm mt-2">
                    üìÖ ${new Date(result.startEventAt).toLocaleString()}
                </p>
                <p class="text-gray-500 text-sm mt-2">
                    üìÖ ${new Date(result.endEventAt).toLocaleString()}
                </p>

                <p class="text-gray-500 text-sm mt-2">
                    üìç ${result.adresse ?? 'En ligne'}
                </p>

                <div class="flex items-center mt-4 justify-between">
                    <div>
                        ${ratingStars}
                        <span class="ml-2 text-gray-500 text-sm">(${result.rating}/5)</span>
                    </div>
                    <div>
                        <a href="/reservation/${result.event_id}" class="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors duration-300">
                            R√©server
                        </a>
                    </div>
                </div>
            </div>
        `;
            searchResultsContainer.appendChild(resultElement);
        });
    }



    // let currentSlide = 0;
    // const slides = document.querySelectorAll('.carousel-item');
    // const indicators = document.querySelectorAll('.bottom-2 button, .bottom-4 button');
    // const progressBar = document.querySelector('.progress-bar');
    // let autoAdvanceTimer;
    // let touchStartX = 0;
    // let touchEndX = 0;
    // const carousel = document.querySelector('.carousel-track');

    // // Add touch events for swipe
    // carousel.addEventListener('touchstart', e => {
    //     touchStartX = e.changedTouches[0].screenX;
    // }, {
    //     passive: true
    // });

    // carousel.addEventListener('touchend', e => {
    //     touchEndX = e.changedTouches[0].screenX;
    //     handleSwipe();
    // }, {
    //     passive: true
    // });

    // function handleSwipe() {
    //     const swipeThreshold = 50;
    //     const diff = touchStartX - touchEndX;

    //     if (Math.abs(diff) > swipeThreshold) {
    //         if (diff > 0) {
    //             nextSlide();
    //         } else {
    //             prevSlide();
    //         }
    //     }
    // }

    // function updateSlides() {
    //     slides.forEach((slide, index) => {
    //         slide.className = 'carousel-item absolute top-0 left-0 w-full h-[30rem]';
    //         if (index === currentSlide) {
    //             slide.classList.add('active');
    //         } else if (index === (currentSlide + 1) % slides.length) {
    //             slide.classList.add('next');
    //         } else if (index === (currentSlide - 1 + slides.length) % slides.length) {
    //             slide.classList.add('prev');
    //         } else {
    //             slide.classList.add('hidden');
    //         }
    //     });

    //     // Update indicators
    //     indicators.forEach((indicator, index) => {
    //         indicator.className = `w-8 sm:w-12 h-1 sm:h-1.5 rounded-full transition-colors ${
    // 							 index === currentSlide ? 'bg-white/40' : 'bg-white/20'
    // 							 } hover:bg-white/60`;
    //     });

    //     // Update progress bar
    //     progressBar.style.width = `${((currentSlide + 1) / slides.length) * 100}%`;
    // }

    // function resetAutoAdvance() {
    //     clearInterval(autoAdvanceTimer);
    //     autoAdvanceTimer = setInterval(nextSlide, 5000);
    // }

    // function nextSlide() {
    //     currentSlide = (currentSlide + 1) % slides.length;
    //     updateSlides();
    //     resetAutoAdvance();
    // }

    // function prevSlide() {
    //     currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    //     updateSlides();
    //     resetAutoAdvance();
    // }

    // // Add click handlers to indicators
    // indicators.forEach((indicator, index) => {
    //     indicator.addEventListener('click', () => {
    //         currentSlide = index;
    //         updateSlides();
    //         resetAutoAdvance();
    //     });
    // });

    // // Initialize auto advance
    // resetAutoAdvance();

    // // Initialize slides
    // updateSlides();
    </script>
</body>

</html>